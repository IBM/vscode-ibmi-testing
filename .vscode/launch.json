// A launch configuration that compiles the extension and then opens it inside a new window
// Use IntelliSense to learn about possible attributes.
// Hover to view descriptions of existing attributes.
// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
{
	"version": "0.2.0",
	"configurations": [
		{
			"name": "Run Extension",
			"type": "extensionHost",
			"request": "launch",
			"args": [
				"--extensionDevelopmentPath=${workspaceFolder}",
				"${workspaceFolder}/examples/rpg-utils",
				"${workspaceFolder}/examples/rpgunit-stmf",
				"${workspaceFolder}/examples/ibmi-company_system",
			],
			"outFiles": [
				"${workspaceFolder}/dist/**/*.js"
			],
			"preLaunchTask": "${defaultBuildTask}"
		},
		{
			"name": "Run CLI",
			"type": "node",
			"request": "launch",
			"cwd": "${workspaceFolder}/cli",
			"program": "${workspaceFolder}/cli/dist/index.js",
			"sourceMaps": true,
			"args": [
				"--local-directory",
				"../examples/ibmi-company_system",
				"--ifs-directory",
				"/home/${input:ibmiUser}/builds/ibmi-company_system",
				"--library-list",
				"RPGUNIT",
				"QDEVTOOLS",
				"--code-coverage",
				"--summary-report",
				"--test-output",
				"--test-result",
				"--command-output"
			],
			"preLaunchTask": "cli:webpack:dev",
			"env": {
				"IBMI_HOST": "${input:ibmiHost}",
				"IBMI_USER": "${input:ibmiUser}",
				"IBMI_PASSWORD": "${input:ibmiPassword}",
			}
		}
	],
	"inputs": [
		{
			"id": "ibmiHost",
			"type": "promptString",
			"description": "Enter the IBMI_HOST"
		},
		{
			"id": "ibmiUser",
			"type": "promptString",
			"description": "Enter the IBMI_USER"
		},
		{
			"id": "ibmiPassword",
			"type": "promptString",
			"description": "Enter the IBMI_PASSWORD",
			"password": true
		}
	]
}
